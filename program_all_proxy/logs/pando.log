2025-10-22 21:24:57,590 [INFO] main_window.py:281 - 트레이 아이콘 준비됨
2025-10-22 21:24:58,267 [INFO] main_window.py:626 - 인증서 초기화 및 프록시 서버 시작 중...
2025-10-22 21:24:58,382 [INFO] main_window.py:350 - [info] mitmdump.exe 프로세스 없음 또는 이미 종료됨 (rc=128)
2025-10-22 21:24:58,392 [INFO] main_window.py:395 - Windows GUI 프록시 설정됨: 127.0.0.1:8080 (HKCU에 적용)
2025-10-22 21:24:58,446 [INFO] main_window.py:429 - winhttp proxy imported from IE (동기화 성공)
2025-10-22 21:24:58,446 [INFO] main_window.py:458 - 🔧 mitmdump 기존 인증서/폴더 정리 (있으면 삭제)
2025-10-22 21:24:58,490 [INFO] main_window.py:472 - certutil -delstore: 삭제 성공(루트 스토어에서 제거됨).
2025-10-22 21:24:58,491 [INFO] main_window.py:474 - certutil stdout: Root "신뢰할 수 있는 루트 인증 기관"
인증서 11 삭제 중: O=mitmproxy, CN=mitmproxy:09c3ec50d12a424a76d344ea0f4669529097d744
CertUtil: -delstore 명령이 성공적으로 완료되었습니다.
2025-10-22 21:24:58,493 [INFO] main_window.py:487 - 기존 .mitmproxy 폴더 삭제: C:\Users\772vj\.mitmproxy
2025-10-22 21:24:58,493 [INFO] main_window.py:529 - 🔧 mitmdump 실행 중 (인증서 생성 시작)...
2025-10-22 21:24:59,006 [INFO] main_window.py:517 - CPU 사용률 감지: 29.8% -> 인증서 생성 타임아웃 설정 180s.
2025-10-22 21:24:59,007 [INFO] main_window.py:571 - 🔧 mitmdump 인증서 파일 생성 확인중...
2025-10-22 21:25:00,509 [INFO] main_window.py:587 - 🔧 mitmdump 인증서 파일 생성 확인 완료
2025-10-22 21:25:00,581 [INFO] main_window.py:340 - [info] 기존 mitmdump.exe 프로세스 종료됨 (taskkill)
2025-10-22 21:25:00,581 [INFO] main_window.py:590 - 🔧 mitmdump 인증서 생성 후 mitmdump.exe 종료
2025-10-22 21:25:00,581 [INFO] main_window.py:601 - 🔧 mitmdump 인증서 생성 루트 스토어에 등록
2025-10-22 21:25:00,620 [INFO] main_window.py:618 - 인증서 등록 완료!
2025-10-22 21:25:00,620 [INFO] main_window.py:620 - certutil stdout: Root "신뢰할 수 있는 루트 인증 기관"
서명이 공개 키와 일치합니다.
"mitmproxy" 인증서가 저장소에 추가되었습니다.
CertUtil: -addstore 명령이 성공적으로 완료되었습니다.
2025-10-22 21:25:00,621 [INFO] main_window.py:665 - [프록시] 프록시 실행 준비 중...
2025-10-22 21:25:00,634 [INFO] main_window.py:705 - [프록시] mitmdump 실행 완료 (로그: E:\git\pythoncrawling\pando_p_proxy_hooking\logs\proxy_server.log)
2025-10-22 21:25:02,495 [INFO] proxy_server.py:40 - [proxy_server] 프록시 서버 시작
2025-10-22 21:25:02,496 [INFO] proxy_server.py:42 - [proxy_server] 프록시 서버 로딩 완료 (한글 출력 테스트)
2025-10-22 21:25:02,496 [INFO] proxy_server.py:43 - [proxy_server] 이 줄이 찍히면 최신 코드입니다!
2025-10-22 21:25:02,655 [INFO] main_window.py:719 - 프록시 서버가 포트 8080에서 실행 중입니다.
2025-10-22 21:25:02,656 [INFO] api.py:15 -  🔑 토큰 요청: https://api.dev.24golf.co.kr/auth/token/stores/687df837ccdd3048647c8e92/role/singleCrawler
2025-10-22 21:25:02,731 [INFO] api.py:26 - 토큰 발급 성공 : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4N2RmODM3Y2NkZDMwNDg2NDdjOGU5MiIsInJvbGUiOiJzaW5nbGVDcmF3bGVyIiwiZXhwIjo0OTE2ODk1OTAxfQ.cDds8GhpT7_CRAffdsJOTog924Vo-Wbadnpz2ETOiIk
2025-10-22 21:25:02,731 [INFO] token_manager.py:14 - 토큰 갱신 완료 → 저장 예정: {'store_id': '687df837ccdd3048647c8e92', 'name': '청주JS', 'branch': 'hooking', 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4N2RmODM3Y2NkZDMwNDg2NDdjOGU5MiIsInJvbGUiOiJzaW5nbGVDcmF3bGVyIiwiZXhwIjo0OTE2ODk1OTAxfQ.cDds8GhpT7_CRAffdsJOTog924Vo-Wbadnpz2ETOiIk', 'auto_login': 'T'}
2025-10-22 21:25:02,731 [INFO] file_storage.py:32 - 저장 중: E:\git\pythoncrawling\pando_p_proxy_hooking\data.json
2025-10-22 21:25:02,736 [INFO] token_manager.py:16 - 토큰 갱신 + 저장 완료
2025-10-22 21:25:02,736 [INFO] api.py:37 -  🏬 매장 정보 요청: https://api.dev.24golf.co.kr/stores/687df837ccdd3048647c8e92
2025-10-22 21:25:02,794 [INFO] api.py:42 -  매장명: -
2025-10-22 21:25:02,794 [INFO] file_storage.py:32 - 저장 중: E:\git\pythoncrawling\pando_p_proxy_hooking\data.json
2025-10-22 21:25:02,798 [INFO] main_window.py:766 - [info] 매장 정보 저장 완료
2025-10-22 21:25:02,804 [INFO] main_window.py:816 - 트레이 아이콘 변경: assets/pandop_on.ico
2025-10-22 21:25:05,776 [INFO] main_window.py:1080 - 🧑‍💻 유저 화면 중지 버튼 클릭
2025-10-22 21:25:05,776 [INFO] main_window.py:990 - 🧹 정리 작업 수행 중...
2025-10-22 21:25:05,776 [INFO] main_window.py:995 - proxy_proc 종료 시도(terminate)
2025-10-22 21:25:05,780 [INFO] main_window.py:999 - proxy_proc 종료 완료 (rc=1)
2025-10-22 21:25:05,780 [INFO] main_window.py:1012 - proxy 로그 파일 핸들 닫음
2025-10-22 21:25:05,849 [INFO] main_window.py:340 - [info] 기존 mitmdump.exe 프로세스 종료됨 (taskkill)
2025-10-22 21:25:05,984 [INFO] main_window.py:1028 - mitmdump 종료 확인
2025-10-22 21:25:06,000 [INFO] main_window.py:961 - Windows GUI 프록시 해제됨
2025-10-22 21:25:06,057 [INFO] main_window.py:943 - winhttp proxy reset 완료
2025-10-22 21:25:06,096 [INFO] main_window.py:1047 - 인증서 루트스토어에서 삭제됨 (certutil 반환 0).
2025-10-22 21:25:06,098 [INFO] main_window.py:1060 - .mitmproxy 폴더 삭제됨: C:\Users\772vj\.mitmproxy
2025-10-22 21:25:06,098 [INFO] main_window.py:1072 - 인증서 제거 작업 완료(루트스토어 및 로컬 폴더).
2025-10-22 21:25:06,101 [INFO] main_window.py:816 - 트레이 아이콘 변경: assets/pandop_off.ico
2025-10-22 21:25:07,258 [INFO] main_window.py:302 - 창이 트레이로 숨겨졌습니다.
